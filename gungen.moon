-- title:  Tiny Gun Generator
-- author: congusbongus
-- desc:   Randomly generate pixel gun icons
-- script: moon

N_UPPERS=8
N_GRIPS=8

S_UPPER=0
S_GRIP=48

upper=0
grip=0

scale=3

modwrap=(x,m)->
	(x%m+m)%m

export TIC=->
	if btnp 0	-- up
		upper=modwrap upper-1,N_UPPERS
	if btnp 1	-- down
		upper=modwrap upper+1,N_UPPERS
	if btnp 2	-- left
		grip=modwrap grip-1,N_GRIPS
	if btnp 3	-- right
		grip=modwrap grip+1,N_GRIPS

	cls 0
	-- Draw upper
	spr (upper+S_UPPER)*2,40,40+1*scale,0,scale,0,0,1,1
	-- Draw barrel of upper
	spr (upper+S_UPPER)*2+1,40+8*scale,40+1*scale,0,scale,0,0,1,1
	-- Draw grip
	spr grip+S_GRIP,40,40+(8-1)*scale,0,scale,0,0,1,1
	print "pew pew pew!",84,84

-- <TILES>
-- 000:0000000000000000000000000000000000aaaaee0a77aaee0aaaaaaa00a00000
-- 001:00000000000000000000000000000000eeee0000eeee0000aaa0000000000000
-- 002:0000000000000000000000000000eeee000efffa000e777e000eeeee00000000
-- 003:00000000000000000000000000e00000aaa00000eee000000000000000000000
-- 004:000000000000000000000000000000000000000000eeaaee0eeaaeee00e00000
-- 005:0000000000000000000000000000000000000000eee00000eaa0000000000000
-- 006:00000000000000000000000000000000000eaaee00e555ee0055555500000000
-- 007:00000000000000000000000000000000aaa7000055550000aaaa000000000000
-- 008:000000000000000000000000000000000000000000aaaaaa0077777700000000
-- 009:0000000000000000000000000000000000000000aaaa00007777000000000000
-- 010:0000000000000000000000000000000000eaaa110e7777770a11111100000000
-- 011:00000000000000000000000000000000aaa77000777770001100000000000000
-- 012:0000000000000000000000000000700000f77aaa0077777700a1161100000000
-- 013:0000000000000000000000000700000077a00000777100001111100000000000
-- 014:000000000000000000000000000000000fe00007feeaaaaae77777770e000000
-- 015:0000000000000000000000000000000000007000eeeee0007777700000000000
-- 048:00000000000110070001177700711e0000711e0000011e00000eee0000000000
-- 049:004000000444e00e33344eee3340000033400000000000000000000000000000
-- 050:00000000000ff007000ff77000ffe00000ffe00000eee0000000000000000000
-- 051:0000000000057705000577550077770000777000007770000000000000000000
-- 052:0000000000077007000777770077700000777000007770000000000000000000
-- 053:0000000000077007000aa7770077100000771000001110000000000000000000
-- 054:00000000000077010000a7100000aa0000000000000000000000000000000000
-- 055:000000000077a00100eaa11000aa70000ea7000000e700000000000000000000
-- 064:0000000000070000000700000007000000000000000000000000000000000000
-- 065:00007a0000007a000000a1000000000000000000000000000000000000000000
-- 080:000000000000000000000000000001aa00000100000001000000000000000000
-- 096:0000e000000ae000000a700000077000000a7000000a7000000a700000000000
-- </TILES>

-- <WAVES>
-- 000:00000000ffffffff00000000ffffffff
-- 001:0123456789abcdeffedcba9876543210
-- 002:0123456789abcdef0123456789abcdef
-- </WAVES>

-- <SFX>
-- 000:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000304000000000
-- </SFX>

-- <PALETTE>
-- 000:140c1c302c3030346d402428714c304c5548d04648757161597dced27d2c9195916daa2cd2aa996dc2cababebedeeed6
-- </PALETTE>

